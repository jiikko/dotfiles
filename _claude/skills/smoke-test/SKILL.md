---
name: smoke-test
version: 1.0.0
description: Smoke Test - アプリ全体動作確認。bin/tt-client を使用してアプリの全体的な動作確認を行うスキル。クイック/標準/完全の3段階のテスト範囲を選択可能。
---

# Smoke Test - アプリ全体動作確認

`bin/tt-client` を使用してアプリの全体的な動作確認を行うスキル。

## 使い方

```
/smoke-test
```

## 実行フロー

このスキルは以下の流れで実行されます：

1. **事前チェック**: アプリとワークスペースの状態確認
2. **質問1**: テスト範囲の選択（クイック/標準/完全）
3. **質問2**: 使用モデルの選択（Sonnet推奨/Opus/Haiku）
4. **subagent起動**: 選択された設定でスモークテストを実行
5. **結果レポート**: テスト結果のサマリーを表示

## テスト範囲

このスキルは以下の項目を包括的にテストします：

- **基本機能**: Status, Help, Projects, Canvases
- **エレメント作成**: Text, Shape (全6種), Image
- **エレメント詳細**: フォント、文字間隔、アウトライン、グラデーション塗り、角丸、ストローク
- **背景設定**: Solid, Gradient (linear/radial), Transparent
- **変換**: 回転、シャドウ、縁取り
- **操作**: 並び替え、複製、削除、Undo/Redo
- **出力**: Preview, Export (PNG/JPEG, 品質指定)
- **バッチ操作**: 一括作成
- **プロジェクト/キャンバス**: 作成、削除、切り替え、複製、クリア
- **エラーハンドリング**: 無効ID、不正JSON、バリデーション
- **パフォーマンス**: 大量エレメント、速度計測
- **実用シナリオ**: YouTubeサムネイル作成
- **ImageStore**: 重複排除、保存、復元、未使用削除

## テスト範囲の詳細

| 選択肢 | テスト項目数 | 所要時間 | 対象 |
|--------|------------|---------|------|
| **クイック** | 約10項目 | 2-3分 | 基本動作確認のみ |
| **標準** | 約30項目 | 5-7分 | 主要機能の網羅的確認 |
| **完全** | 約60項目 | 10-15分 | すべての機能・エッジケース |

### クイック（約10項目）

- 基本接続（Status, Help）
- キャンバス作成
- テキスト追加
- シェイプ追加（rectangle, circle, star）
- 背景設定（solid, gradient, transparent）
- Preview
- Export
- クリーンアップ

### 標準（約30項目）

クイック + 以下：

- 全6種シェイプ
- 回転・シャドウ
- Undo/Redo
- バッチ操作
- エクスポート形式（JPEG）
- プロジェクト操作
- キャンバス複製・クリア
- 基本的なエラーハンドリング

### 完全（約60項目）

標準 + 以下：

- テキスト詳細プロパティ（フォント、文字間隔、アウトライン、グラデーション）
- シェイプ詳細プロパティ（角丸、ストローク、辺数変更、radialグラデーション）
- 放射状グラデーション背景
- エクスポート品質比較
- 全エラーハンドリングパターン
- パフォーマンステスト（50個のエレメント）
- YouTubeサムネイル作成シナリオ
- 出力品質検証
- ImageStore（重複排除、保存、復元、未使用削除）

## 注意事項

- テストは **順番に** 実行すること（並行実行しない）
- 各コマンドの実行結果を確認してから次に進むこと
- エラーが発生した場合は、その時点で一旦停止し、原因を調査すること
- テストキャンバス名 `__SMOKE_TEST__` は必ずクリーンアップすること
- `./tmp/` ディレクトリが存在しない場合は作成すること
