---
name: forge
version: 1.0.0
description: 専門家エージェントによる高品質な実装・改善スキル。タスク実装とコードレビュー両方に対応。並行起動された複数の専門家がクロスレビューを行い、統合エージェントが結果を統合する。
---

# Forge

専門家エージェントによる高品質な実装・改善スキル。タスク実装とコードレビュー両方に対応。

## アーキテクチャ

```
┌────────────────────────────────────────────────────────────────┐
│                    メイン Claude（オーケストレーター）            │
│  役割: 指示出し、進行管理、最終判断のみ                          │
│  禁止: 直接的なコード分析、レビュー結果の独自解釈                  │
└────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌────────────────────────────────────────────────────────────────┐
│                    Phase N: 専門家エージェント並行実行            │
│  swift-language-expert, swiftui-macos-designer, etc.           │
└────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌────────────────────────────────────────────────────────────────┐
│                    Phase N.x: クロスレビュー                     │
│  各エージェントの出力を別の観点を持つエージェントが検証            │
│  メインClaudeは検証済み結果のみを受け取る                        │
└────────────────────────────────────────────────────────────────┘
```

### メイン Claude の責務

| やること | やらないこと |
|---------|-------------|
| Phase の進行管理 | コードの直接分析 |
| sub agent への指示出し | レビュー結果の独自解釈 |
| ユーザーとの対話 | 専門判断（sub agent に委譲）|
| 最終結果の報告 | 重複排除（統合エージェントに委譲）|

## 使い方

```
/forge [タスク説明 または 対象ファイル/ディレクトリ]
```

例:
- `/forge TextElement に letterSpacing プロパティを追加` → 実装モード
- `/forge バグ #123 を修正` → 実装モード
- `/forge Sources/ViewModels/CanvasViewModel.swift` → レビューモード
- `/forge Sources/Services/` → レビューモード

## モード判定

`$ARGUMENTS` の内容で自動判定:

| 入力パターン | モード | フロー |
|-------------|--------|--------|
| ファイル/ディレクトリパス | レビュー | Phase -1 → 4 → 4.1 → 4.2 → 修正 → 繰り返し |
| それ以外（タスク説明） | 実装 | Phase -1 → 0 → 1 → 1.1 → 1.5 → 2 → 3 → 4 → 4.1 → 4.2 → 繰り返し |

## 詳細ドキュメント

各フェーズの詳細は以下を参照：

- @forge/phases-0-1.md - Phase 0〜1.5: 要件確認・事前調査・設計
- @forge/phases-2-3.md - Phase 2〜3: 実装・セルフレビュー
- @forge/phases-4-review.md - Phase 4〜4.2: 専門家レビュー・クロスレビュー・統合
- @forge/phase-4.3-ultra.md - Phase 4.3: 反復並列思考（Ultra モードのみ）
- @forge/phases-5-completion.md - Phase 4.5〜5: デバッグ・収束・完了
- @forge/examples.md - 使用例
